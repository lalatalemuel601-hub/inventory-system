 :root {
            --primary: #4f46e5;
            --primary-bg: #eef2ff;
            --text-main: #1f2937;
            --text-light: #6b7280;
            --border: #e5e7eb;
            --bg-body: #f3f4f6;
            --green: #10b981;
            --red: #ef4444;
            --orange: #f59e0b;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }
        body { display: flex; height: 100vh; background: var(--bg-body); overflow: hidden; }

        /* SIDEBAR */
        .icon-nav { width: 70px; background: white; border-right: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; padding-top: 20px; z-index: 10; }
        .nav-icon { width: 44px; height: 44px; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; color: var(--text-light); cursor: pointer; transition: 0.2s; font-size: 1.3rem; }
        .nav-icon:hover, .nav-icon.active { background: var(--primary-bg); color: var(--primary); }

        /* MAIN LAYOUT */
        .main-container { flex: 1; display: flex; overflow: hidden; position: relative; }
        .view-section { display: none; width: 100%; height: 100%; flex-direction: column; overflow-y: auto; }
        .view-section.active { display: flex; }

        /* DASHBOARD GRID & CARDS */
        .dashboard-grid { display: grid; grid-template-columns: 350px 1fr; height: 100%; overflow: hidden; }
        .list-col { background: white; border-right: 1px solid var(--border); overflow-y: auto; display: flex; flex-direction: column; }
        .details-col { padding: 30px; overflow-y: auto; background: #fff; }

        .overview-container { padding: 30px; max-width: 1200px; margin: 0 auto; width: 100%; }
        .kpi-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 30px; }
        .kpi-card { background: white; padding: 20px; border-radius: 10px; border: 1px solid var(--border); box-shadow: 0 2px 4px rgba(0,0,0,0.02); }
        .kpi-card h2 { font-size: 1.8rem; margin-top: 5px; }
        .kpi-card small { text-transform: uppercase; font-size: 0.7rem; color: var(--text-light); font-weight: 700; letter-spacing: 0.5px; }

        /* ALERTS & TABLES */
        .action-center { background: white; border-radius: 10px; border: 1px solid var(--border); padding: 25px; margin-bottom: 30px; }
        .alert-item { padding: 12px; margin-bottom: 8px; border-radius: 6px; display: flex; align-items: center; justify-content: space-between; font-size: 0.9rem; }
        .alert-critical { background: #fee2e2; color: #991b1b; border-left: 4px solid var(--red); }
        .alert-warning { background: #ffedd5; color: #9a3412; border-left: 4px solid var(--orange); }
        .alert-good { background: #d1fae5; color: #065f46; border-left: 4px solid var(--green); }

        .header-flex { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid var(--border); }
        .card { padding: 20px; border: 1px solid var(--border); border-radius: 10px; background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.03); }
        .stat-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px; }
        
        /* LIST STYLES */
        .p-row { padding: 15px 20px; border-bottom: 1px solid var(--border); cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
        .p-row:hover { background: #f9fafb; }
        .p-row.active { background: var(--primary-bg); border-left: 4px solid var(--primary); }
        .p-dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; }
        .health-container { margin-bottom: 25px; background: #f9fafb; padding: 20px; border-radius: 10px; border: 1px solid var(--border); }
        .progress-bg { width: 100%; height: 12px; background: #e5e7eb; border-radius: 10px; overflow: hidden; margin-top: 10px; }
        .progress-fill { height: 100%; transition: width 0.5s; border-radius: 10px; }

        /* TABLES */
        table { width: 100%; border-collapse: collapse; font-size: 0.9rem; margin-top: 10px; }
        th { text-align: left; padding: 12px; background: #f9fafb; color: var(--text-light); border-bottom: 1px solid var(--border); font-size: 0.8rem; text-transform: uppercase; }
        td { padding: 12px; border-bottom: 1px solid var(--border); color: var(--text-main); }
        .badge { padding: 3px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 600; background: #e5e7eb; }

        /* BUTTONS & FORMS */
        .btn { padding: 10px 20px; border-radius: 6px; font-weight: 600; cursor: pointer; border: none; font-size: 0.9rem; transition: 0.2s; display: inline-flex; align-items: center; gap: 8px; }
        .btn-pri { background: var(--primary); color: white; }
        .btn-sec { background: white; border: 1px solid var(--border); color: var(--text-main); }
        .text-green { color: var(--green); } .text-red { color: var(--red); } .text-orange { color: var(--orange); }
        .bg-green { background: var(--green); } .bg-red { background: var(--red); } .bg-orange { background: var(--orange); }

        /* MODALS */
        .modal-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); display: none; justify-content: center; align-items: center; z-index: 50; }
        .modal-box { background: white; padding: 30px; border-radius: 12px; width: 450px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; font-size: 0.85rem; margin-bottom: 5px; font-weight: 500; color: var(--text-light); }
        .form-group input, select { width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 6px; }

        /* --- PRINT STYLES (THE MAGIC PART) --- */
        .print-header { display: none; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
        
/* --- UNIVERSAL PRINT STYLES --- */
    @media print {
        /* 1. Itago ang lahat ng laman ng body sa simula */
        body * {
            visibility: hidden;
        }

        /* 2. Ipakita LAMANG ang section na may class na 'printing-now' at mga laman nito */
        .printing-now, .printing-now * {
            visibility: visible !important;
        }

        /* 3. I-position ang 'printing-now' sa pinaka-ibabaw ng papel */
        .printing-now {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            margin: 0;
            padding: 0;
            background: white;
            z-index: 9999;
        }

        /* 4. Itago ang mga buttons, sidebar, at inputs kapag nagpi-print */
        .sidebar, .top-nav, button, .btn, input, .no-print {
            display: none !important;
        }

        /* 5. Siguraduhing maayos ang text color */
        * {
            -webkit-print-color-adjust: exact !important;
            color-adjust: exact !important;
            color: black !important;
        }
        
        /* Specific adjustments para sa Project View */
        #project-details-panel {
            width: 100%;
            display: block;
        }
        
        /* Itago ang project list sa kaliwa kung nagpi-print ng details */
        #project-list-container, .search-box {
            display: none !important;
        }
        
        /* I-expand ang details panel para sakop ang buong papel */
        .main-content {
            margin-left: 0 !important;
            padding: 0 !important;
        }
    }
       /* --- CALENDAR SELECTION STYLE --- */
.cal-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-top: 20px; }

/* Ito ang magpapamukha sa button na Calendar */
.cal-card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.2s;
    border: 1px solid #ddd;
}
.cal-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px rgba(0,0,0,0.1); }
.cal-card-top {
    background: var(--red); /* Red header parang kalendaryo */
    color: white;
    padding: 10px;
    text-align: center;
    font-weight: bold;
    text-transform: uppercase;
}
.cal-card-body {
    padding: 20px;
    text-align: center;
}
.cal-card-body h2 { font-size: 2.5rem; color: var(--text-main); margin: 0; }
.cal-card-body small { color: var(--text-light); }

/* --- PRINT REPORT STYLE (TABLE FORMAT) --- */
/* --- STRONG PRINT FIX --- */
@media print {
    /* 1. Reset Page Settings */
    @page { 
        size: legal landscape; 
        margin: 0.5in; 
    }

    /* 2. Hide EVERYTHING in the body first */
    body, body * {
        visibility: hidden;
        height: 0; /* Important para hindi sumakop ng space ang ibang elements */
        overflow: hidden;
    }

    /* 3. Force Show the Report Container AND its children */
    #report-print-area, 
    #report-print-area * {
        visibility: visible !important;
        height: auto !important;
        overflow: visible !important;
        color: black !important; /* Ensure black text */
    }

    /* 4. Position the Report on top of everything */
    #report-print-area {
        position: fixed; /* Gamitin ang Fixed para lumutang siya sa ibabaw */
        left: 0;
        top: 0;
        width: 100vw; /* Full width */
        margin: 0;
        padding: 0;
        background: white;
        z-index: 99999; /* Pinaka-ibabaw */
        display: block !important;
    }

    /* 5. Hide Buttons specifically */
    .no-print, button {
        display: none !important;
    }

    /* 6. Table Styling for Print */
    table { 
        width: 100% !important; 
        border-collapse: collapse !important; 
        border: 2px solid #000 !important; 
    }
    th { 
        background-color: #ddd !important; 
        -webkit-print-color-adjust: exact; 
        border: 1px solid #000 !important;
        padding: 5px;
    }
    td { 
        border: 1px solid #000 !important;
        padding: 5px;
    }
}
    /* --- MOBILE RESPONSIVE DESIGN --- */
    @media (max-width: 768px) {
        /* 1. gawing Column ang layout imbes na magkatabi */
        body {
            overflow-x: hidden; /* Iwas scroll sa gilid ng page */
        }
        
        .container {
            display: flex;
            flex-direction: column;
        }

        /* 2. Ang Sidebar ay magiging Top Menu na na-s-scroll */
        .sidebar {
            width: 100%;
            height: auto;
            position: relative;
            padding: 10px;
            display: flex;
            flex-direction: row;
            overflow-x: auto; /* Horizontal Scroll */
            white-space: nowrap;
            background: #2c3e50;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .sidebar h2 {
            display: none; /* Tago muna ang Title sa mobile para tipid space */
        }

        .sidebar button {
            margin: 0 5px;
            padding: 8px 15px;
            font-size: 0.9em;
            flex: 0 0 auto; /* Huwag i-shrink ang buttons */
            border-radius: 20px;
        }

        /* 3. Ayusin ang Main Content */
        .main-content {
            margin-left: 0;
            width: 100%;
            padding: 15px;
        }

        /* 4. Cards at Grids (maging 1 column na lang) */
        .stat-grid {
            grid-template-columns: 1fr; /* Isang column pababa */
            gap: 10px;
        }

        .header-flex {
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
        }

        /* 5. Tables: Lagyan ng scroll bar kapag sumobra sa lapad */
        table {
            display: block;
            overflow-x: auto;
            white-space: nowrap;
        }

        /* 6. Modals (Pop-ups) */
        .modal-box {
            width: 90%; /* Sakupin ang 90% ng screen width */
            margin: 20% auto; /* Gitna */
            padding: 15px;
        }

        .inp, .btn {
            width: 100%; /* Full width inputs at buttons sa mobile */
            margin-bottom: 5px;
        }

        /* 7. Specific Adjustments */
        #project-list-container {
            max-height: 300px; /* Limitahan ang haba ng listahan sa mobile */
            overflow-y: auto;
        }
        
        /* Ayusin ang Project Details Header buttons */
        .header-flex div:last-child {
            width: 100%;
            display: flex;
            flex-wrap: wrap;
        }
        
        .header-flex button {
            flex: 1; /* Pantay-pantay na laki ng buttons */
        }
    }
        /* Style para sa Batch Rows */
     /* 3. Ayusin ang Row para sakop ang buong lapad */
    .batch-row {
        position: relative;
        counter-increment: row-num; /* Add +1 to counter */
        display: flex;              /* Flexbox para magkatabi */
        align-items: center;        /* Center vertically */
        gap: 10px;                  /* Space sa pagitan ng inputs at button */
        background: #fff;
        padding: 10px 10px 10px 45px; /* Space sa kaliwa para sa number */
        border: 1px solid #ddd;
        border-radius: 6px;
        width: 100%;
    }
    /* 4. Ang Number sa Kaliwa (Counter) */
     .batch-row::before {
        content: counter(row-num);  /* Ipakita ang number */
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 35px;
        background: #34495e;        /* Dark Blue background */
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        border-top-left-radius: 6px;
        border-bottom-left-radius: 6px;
     }
    /* 5. Ang mga Inputs - Mag-stretch sila */
    .batch-row input.col-name {
        flex: 3;             /* Pinakamalapad ang Name (3 parts) */
        min-width: 200px;
    }

    .batch-row .col-qty,
    .batch-row .col-price {
        flex: 1;                    /* 1 part ang lapad */
        min-width: 80px;
    }

    /* 6. Delete Button */
    .batch-row button.btn-x {
        flex: 0;             /* Huwag mag-stretch */
        min-width: 40px;
        height: 40px;
    }
    
    /* Mobile Adjustment */
    @media (max-width: 768px) {
        .batch-row {
            padding-left: 50px; /* Maintain space for number */
        }
.batch-row .col-name {
        flex: 3;                    /* 3 parts ang lapad */
        min-width: 150px;
    }
    }
        /* --- FULL SCREEN BATCH MODAL --- */

    /* 1. Palakihin ang Modal Box para sa Batch In at Batch Out lang */
    #modal-batch-in .modal-box,
    #modal-batch-out .modal-box {
        width: 95%;          /* Sakupin ang 95% ng lapad ng screen */
        max-width: 1200px;   /* Maximum width para hindi sobrang haba sa malaking monitor */
        height: 90vh;        /* Sakupin ang 90% ng taas ng screen */
        display: flex;       
        flex-direction: column;
        padding: 20px;
    }

    /* 2. Siguraduhing ang container ng rows ang mag-i-scroll, hindi ang buong page */
    #batch-in-container, 
    #batch-out-container {
        counter-reset: row-num;  /* Reset counter to 0 */
        display: flex;
        flex-direction: column;
        gap: 10px;
        padding: 10px;
        overflow-y: auto;        /* Scrollable inside */
        height: 100%;            /* Gamitin ang full height ng modal */
    }
.batch-row input {
        height: 40px;               /* Fixed height */
        margin: 0 !important
    }
        /* 5. X Button (Katabi lang ng Price) */
    .batch-row .btn-x {
        flex: 0 0 auto;             /* Huwag mag-stretch */
        height: 40px;               /* Kapantay ng input */
        width: 40px;
        background: #e74c3c;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .batch-row .btn-x:hover {
        background: #c0392b;
    }
       @media (max-width: 768px) {
        .batch-row {
            flex-wrap: wrap;        /* Bumaba ang items kung siksikan */
            padding-left: 50px;
        }
        .batch-row .col-name {
            width: 100%;            /* Full width sa name */
            flex: none;
        }
    }
    .btn-sm {
    padding: 2px 8px;
    font-size: 1.2em;
    cursor: pointer;
    background: none;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-right: 5px;
}
.btn-sm:hover { background: #eee; }
.btn-red { color: red; border-color: red; }